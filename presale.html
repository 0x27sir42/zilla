<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ZILA Presale</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script defer src="app.js"></script>

<style>
*{font-family:Poppins;margin:0;padding:0;box-sizing:border-box}
body{background:#000;color:#fff;overflow-x:hidden}
nav{display:flex;justify-content:space-between;align-items:center;padding:16px 32px;background:rgba(0,0,0,.6);backdrop-filter:blur(18px);position:sticky;top:0;z-index:10}
nav a{color:#aaa;margin:0 14px;text-decoration:none;font-size:14px}
nav a:hover{color:#00ffd5}
.wallet{background:#00ffd5;color:#000;padding:8px 16px;border-radius:8px;border:none}
.card{max-width:1100px;margin:120px auto;padding:40px;background:rgba(255,255,255,.06);border-radius:24px;box-shadow:0 0 60px rgba(0,255,213,.15)}
.banner{width:100%;height:220px;border-radius:20px;background:linear-gradient(to right,rgba(0,0,0,.6),rgba(0,0,0,.6)),url("https://images.unsplash.com/photo-1639762681485-074b7f938ba0");background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;margin-bottom:30px}
.banner h1{font-size:32px;color:#00ffd5}
input,button{width:100%;padding:14px;margin-top:12px;border-radius:10px;border:none}
button{background:#00ffd5;font-weight:700;cursor:pointer}
.note{font-size:13px;margin-top:8px}
.info{display:flex;gap:20px;margin:20px 0;flex-wrap:wrap}
.info div{flex:1;background:rgba(255,255,255,.05);padding:20px;border-radius:16px;text-align:center}
canvas{background:rgba(255,255,255,.05);border-radius:16px;margin-top:20px}
.history a{display:block;font-size:12px;margin-top:6px}
.price-label{text-align:center;margin-top:10px;font-size:18px;font-weight:600;color:#fff}
</style>
</head>

<body>
<nav>
 <strong>ZILA</strong>
 <div>
  <a href="index.html">Home</a>
  <a href="presale.html">Presale</a>
  <a href="staking.html">Staking</a>
 </div>
 <button id="connect" class="wallet">Connect Wallet</button>
</nav>

<section class="card">
<div class="banner">
 <h1>ZILA PRIVATE PRESALE</h1>
</div>

<div class="info">
 <div><h3>üí∞ Price</h3><p>1 ZILA = 0.000625 POL</p></div>
 <div><h3>üîÅ Rate</h3><p>1 POL = 1600 ZILA</p></div>
 <div><h3>üè¶ Funds Raised</h3><p>15,000 POL</p></div>
</div>

<h3>üõí Buy ZILA</h3>
<input id="buyPol" placeholder="Minimum 20 POL">
<button id="buyBtn">Buy ZILA</button>
<p class="note">‚ö† Minimum purchase: 20 POL</p>
<button id="claimBtn">Claim ZILA</button>

<h3 style="margin-top:40px">üìä ZILA Private Market</h3>
<canvas id="chart" height="120"></canvas>
<div class="price-label" id="priceLabel"></div>

<h3 style="margin-top:40px">üìú Purchase History</h3>
<div id="presaleHistory" class="history"></div>
</section>

<script>
let web3, account;
const minBuy = 20; 
let price = 0.000625;
const ctx = document.getElementById("chart").getContext("2d");
const prices = Array(25).fill(price);
const labels = prices.map((_,i)=>i);
const chart = new Chart(ctx,{type:"line",data:{labels:labels,datasets:[{data:prices,borderWidth:2,borderColor:"#00ffd5",tension:.4,pointRadius:0}]},options:{plugins:{legend:{display:false}},scales:{x:{display:false},y:{display:false}}}});
function updatePrice(){price+=(Math.random()*0.00000015);prices.push(price);prices.shift();chart.update();document.getElementById("priceLabel").innerText="Current Price: "+price.toFixed(8)+" POL"}
updatePrice(); setInterval(updatePrice,3000);

document.getElementById("connect").onclick = async ()=>{
 if(!window.ethereum) return alert("Install MetaMask");
 const accounts = await ethereum.request({method:"eth_requestAccounts"});
 account = accounts[0];
 document.getElementById("connect").innerText = account.slice(0,6)+"..."+account.slice(-4);
 navigator.clipboard.writeText(account);
 alert("Wallet connected & copied: " + account);
};

document.getElementById("buyBtn").onclick = async ()=>{
 const val = parseFloat(document.getElementById("buyPol").value);
 if(val<minBuy) return alert("Minimum purchase is 20 POL");
 alert("TX SENT (simulasi)"); // connect ke smart contract actual buyPresale
};

document.getElementById("claimBtn").onclick = async ()=>{
 alert("Claim TX SENT (simulasi)");
};
</script>
</body>
</html>
